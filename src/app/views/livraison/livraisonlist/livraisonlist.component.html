<div class="breadcrumb">
  <h1>BON DE LIVRAISON</h1>
</div>

<div class="separator-breadcrumb border-top"></div>

<div class="row mb-3">
  <div class="col-md-12 mb-4">
      <button class="btn btn-primary float-right" [routerLink]="['/bonlivraison/new']">
        <i class="i-Add"></i>

        AJOUTER UN BON DE LIVRAISON</button>
  </div>
  <div class="col-md-12">
      <div class="card o-hidden">
          <table class="table table-hover mb-0">
              <thead>
                  <tr>
                      <th scope="col" class="ps-3">#</th>
                      <th scope="col">NOM CLIENT</th>
                      <th scope="col">ADDRESSE CHANTIER</th>
                      <th scope="col">QUANTITÃ‰</th>
                      <th scope="col">FORMULATION </th>
                      <th scope="col">Date</th>
                      <th scope="col">Status</th>
                      <th scope="col">Actions </th>
                  </tr>
              </thead>
              <tbody>
                  <tr *ngFor="let invoice of commandes;">
                      <th scope="row" class="ps-3">{{ invoice.id }}</th>
                      <td>{{ invoice.nomclient }}</td>
                      <td>{{ invoice.adresse_chantier }}</td>
                      <td>{{ invoice.quantite_commande }}</td>
                      <td>{{ invoice.formulation }}</td>
                      <td>{{ invoice.date_commande }}</td>

                      <td>
                          <div class="badge" [ngClass]="{
                              'text-bg-success': invoice.statut === 'Produit',
                              'text-bg-warning': invoice.statut === 'En cours',
                              'text-bg-danger': invoice.statut === 'En attente'
                          }">
                              {{ invoice.statut }}
                          </div>
                      </td>
                      <td>
                          <button class="btn btn-wide btn-outline-secondary me-3" [routerLink]="['/bonlivraison/edit', invoice.id]"><i class="i-Eye"></i></button>
                          <button class="btn btn-outline-danger" (click)="deleteInvoice(invoice.id, deleteConfirmModal)"><i class="i-Remove-Basket"></i></button>
                      </td>
                  </tr>
              </tbody>
          </table>
      </div>
  </div>
</div>

<ng-template #deleteConfirmModal let-modal>
  <div class="modal-header">
      <h4 class="modal-title" id="modal-title">Supprimer commande</h4>
      <button type="button" class="btn-close" aria-label="Close button" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
      <p><strong>Etes vous sure de vouloir supprimer cette commande ?</strong></p>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-outline-secondary btn-rounded" (click)="modal.dismiss('cancel')">Annuler</button>
      <button type="button" ngbAutofocus class="btn btn-wide btn-danger btn-rounded" (click)="modal.close('Ok')">Supprimer</button>
  </div>
</ng-template>
